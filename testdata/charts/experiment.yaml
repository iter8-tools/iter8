# task 1: generate HTTP requests for application URL
# collect Iter8's built-in HTTP latency and error-related metrics
- task: gen-load-and-collect-metrics-http
  with:
    duration: 2s
    percentiles: 
    - 50
    - 95
    - 97.5
    versionInfo:
    - url: http://localhost:53543/echo1/
# task 2: validate service level objectives for app using
# the metrics collected in the above task
- task: assess-app-versions
  with:
    SLOs:
    - metric: http/error-count
      upperLimit: 0
    - metric: http/latency-mean
      upperLimit: 100
    - metric: http/latency-p50
      upperLimit: 100
    - metric: http/latency-p50.0
      upperLimit: 100
    - metric: http/latency-p95.0
      upperLimit: 250
    - metric: http/latency-p97.5
      upperLimit: 500
